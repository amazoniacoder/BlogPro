# –û—Ç—á–µ—Ç –æ –∑–∞–º–µ–Ω–µ localhost –Ω–∞ production –∑–Ω–∞—á–µ–Ω–∏—è

## –î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
–Ø–Ω–≤–∞—Ä—å 2025

## –¶–µ–ª—å
–ó–∞–º–µ–Ω–∞ –≤—Å–µ—Ö hardcoded –∑–Ω–∞—á–µ–Ω–∏–π `localhost` –Ω–∞ production –¥–æ–º–µ–Ω `blogpro.tech` –∏ IP `89.169.0.223` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ production –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (Client)

#### 1. –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API
**–§–∞–π–ª**: `client/src/config/api.ts`
- ‚ùå –ë—ã–ª–æ: `'http://localhost:5000'` –∏ `'ws://localhost:5000'`
- ‚úÖ –°—Ç–∞–ª–æ: `'https://blogpro.tech'` –∏ `'wss://blogpro.tech'`
- **–≠—Ñ—Ñ–µ–∫—Ç**: –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã —Ç–µ–ø–µ—Ä—å –∏–¥—É—Ç –Ω–∞ production –¥–æ–º–µ–Ω

#### 2. WebSocket —Å–µ—Ä–≤–∏—Å
**–§–∞–π–ª**: `client/src/services/websocket-service.ts`
- ‚ùå –ë—ã–ª–æ: `const wsUrl = 'ws://localhost:5000/ws'` (hardcoded)
- ‚úÖ –°—Ç–∞–ª–æ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `import.meta.env.VITE_WS_URL` —Å fallback –Ω–∞ `'wss://blogpro.tech'`
- **–≠—Ñ—Ñ–µ–∫—Ç**: WebSocket –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ production —Å–µ—Ä–≤–µ—Ä—É

#### 3. Documentation Manager (2 —Ñ–∞–π–ª–∞)
**–§–∞–π–ª—ã**: 
- `client/src/plugins/texteditor/plugins/documentation-manager/src/deployment/routeConfiguration.ts`
- `client/src/plugins/texteditor/plugins/documentation-manager/export/src/src/deployment/routeConfiguration.ts`

- ‚ùå –ë—ã–ª–æ: `apiBaseUrl: 'http://localhost:5000/api'`
- ‚úÖ –°—Ç–∞–ª–æ: `apiBaseUrl: 'https://blogpro.tech/api'` (production) –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `import.meta.env.VITE_API_URL` (development)
- **–≠—Ñ—Ñ–µ–∫—Ç**: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ API endpoints

---

### –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (Server)

#### 4. Swagger –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
**–§–∞–π–ª**: `server/config/swagger.ts`
- ‚ùå –ë—ã–ª–æ: `'https://yourdomain.com'` (production) –∏ `'http://localhost:5000'` (development)
- ‚úÖ –°—Ç–∞–ª–æ: `'https://blogpro.tech'` –¥–ª—è –æ–±–æ–∏—Ö —Ä–µ–∂–∏–º–æ–≤
- **–≠—Ñ—Ñ–µ–∫—Ç**: API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É URL

#### 5. CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
**–§–∞–π–ª**: `server/middleware/security.ts`
- ‚ùå –ë—ã–ª–æ: Development CORS —Ç–æ–ª—å–∫–æ –¥–ª—è `localhost:3000`
- ‚úÖ –°—Ç–∞–ª–æ: –î–æ–±–∞–≤–ª–µ–Ω `'https://blogpro.tech'` –≤ development CORS
- **–≠—Ñ—Ñ–µ–∫—Ç**: –†–∞–∑—Ä–µ—à–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã —Å production –¥–æ–º–µ–Ω–∞ –¥–∞–∂–µ –≤ dev —Ä–µ–∂–∏–º–µ

#### 6. Email —Å–µ—Ä–≤–∏—Å (Auth)
**–§–∞–π–ª**: `server/services/authService.ts`
- ‚ùå –ë—ã–ª–æ: `'http://localhost:3000'` –≤ email —Å—Å—ã–ª–∫–∞—Ö
- ‚úÖ –°—Ç–∞–ª–æ: `'https://blogpro.tech'` –≤ fallback –∑–Ω–∞—á–µ–Ω–∏—è—Ö
- **–≠—Ñ—Ñ–µ–∫—Ç**: Email —Å—Å—ã–ª–∫–∏ (—Å–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è) –≤–µ–¥—É—Ç –Ω–∞ production –¥–æ–º–µ–Ω

#### 7. Digital Goods —Å–µ—Ä–≤–∏—Å
**–§–∞–π–ª**: `server/services/digitalGoodsService.ts`
- ‚ùå –ë—ã–ª–æ: `'http://localhost:5000'` –¥–ª—è download URLs
- ‚úÖ –°—Ç–∞–ª–æ: `'https://blogpro.tech'`
- **–≠—Ñ—Ñ–µ–∫—Ç**: –°—Å—ã–ª–∫–∏ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ production

---

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### 8. Quick Deploy Guide
**–§–∞–π–ª**: `QUICK_DEPLOY.md`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ WebSocket: `wss://blogpro.tech/ws`
- **–≠—Ñ—Ñ–µ–∫—Ç**: –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### 9. Production Build Checklist
**–§–∞–π–ª**: `PRODUCTION_BUILD_CHECKLIST.md` (–Ω–æ–≤—ã–π)
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç –¥–ª—è production –¥–µ–ø–ª–æ—è
- ‚úÖ –í–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ API, WebSocket, —Å—Ç–∞—Ç–∏–∫–∏
- ‚úÖ Troubleshooting —Å–µ–∫—Ü–∏—è
- **–≠—Ñ—Ñ–µ–∫—Ç**: –°–∏—Å—Ç–µ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è

#### 10. Package.json —Å–∫—Ä–∏–ø—Ç—ã
**–§–∞–π–ª**: `package.json`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `build:production` - —è–≤–Ω–∞—è production —Å–±–æ—Ä–∫–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `check:localhost` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ localhost –≤ —Å–±–æ—Ä–∫–µ
- **–≠—Ñ—Ñ–µ–∫—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫

---

## ‚ö†Ô∏è –û—Å—Ç–∞–≤–ª–µ–Ω–æ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ)

### 1. Database –∏ Redis fallback
**–§–∞–π–ª—ã**: `server/db/db.ts`, `server/db/redis.ts`
- –°–æ–¥–µ—Ä–∂–∞—Ç `localhost` –≤ fallback –∑–Ω–∞—á–µ–Ω–∏—è—Ö
- **–ü—Ä–∏—á–∏–Ω–∞**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Production**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `DATABASE_URL` –∏ `REDIS_URL` –∏–∑ `.env`

### 2. –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
**–§–∞–π–ª**: `server/test/setup.ts`
- –°–æ–¥–µ—Ä–∂–∏—Ç `localhost` –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π –ë–î
- **–ü—Ä–∏—á–∏–Ω–∞**: –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î
- **–ù–µ –≤–ª–∏—è–µ—Ç**: –ù–∞ production –æ–∫—Ä—É–∂–µ–Ω–∏–µ

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞
**–§–∞–π–ª**: `server/index.ts`
- `log('Server running on localhost:5000')`
- **–ü—Ä–∏—á–∏–Ω–∞**: –¢–æ–ª—å–∫–æ –¥–ª—è console.log, —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç `0.0.0.0`
- **–ù–µ –≤–ª–∏—è–µ—Ç**: –ù–∞ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üìã –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –¥–µ–ø–ª–æ—è

### –ü–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env —Ñ–∞–π–ª—ã
cat .env | grep -E "API_URL|CLIENT_URL|NODE_ENV"
cat client/.env | grep -E "VITE_API_URL|VITE_WS_URL"

# 2. –°–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm run build:production

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É –Ω–∞ localhost
npm run check:localhost

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å
pm2 restart blogpro
```

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

- [ ] –°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è: `https://blogpro.tech`
- [ ] API —Ä–∞–±–æ—Ç–∞–µ—Ç: `https://blogpro.tech/api/health`
- [ ] WebSocket –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è: `wss://blogpro.tech/ws`
- [ ] –ê–¥–º–∏–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞: `https://blogpro.tech/admin`
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ PM2 –ª–æ–≥–∞—Ö

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚ùå –ö–ª–∏–µ–Ω—Ç –ø—ã—Ç–∞–ª—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `localhost:5000`
- ‚ùå WebSocket –Ω–µ —Ä–∞–±–æ—Ç–∞–ª –≤ production
- ‚ùå Email —Å—Å—ã–ª–∫–∏ –≤–µ–ª–∏ –Ω–∞ `localhost:3000`
- ‚ùå Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ `https://blogpro.tech`
- ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `wss://blogpro.tech`
- ‚úÖ Email —Å—Å—ã–ª–∫–∏ –≤–µ–¥—É—Ç –Ω–∞ production –¥–æ–º–µ–Ω
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ Fallback –∑–Ω–∞—á–µ–Ω–∏—è —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ production
- ‚úÖ `.env` —Ñ–∞–π–ª—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –¥–µ–ø–ª–æ–µ–º**: –ó–∞–ø—É—Å–∫–∞—Ç—å `npm run check:localhost` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–±–æ—Ä–∫–∏
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –°–ª–µ–¥–∏—Ç—å –∑–∞ WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ –≤ –ª–æ–≥–∞—Ö
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø–æ —á–µ–∫–ª–∏—Å—Ç—É
4. **Backup**: –î–µ–ª–∞—Ç—å backup –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `LOCALHOST_REPLACEMENT_ROADMAP.md` - –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `PRODUCTION_BUILD_CHECKLIST.md` - –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è production —Å–±–æ—Ä–∫–∏
- `QUICK_DEPLOY.md` - –ë—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
- `DEPLOYMENT.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
- `.env.production` - Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–∫–æ—Ä–µ–Ω—å –∏ client/)

---

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ó–ê–í–ï–†–®–ï–ù–û

–í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ production –¥–µ–ø–ª–æ—é.
