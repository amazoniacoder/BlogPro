# –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –∑–∞–º–µ–Ω—ã localhost –Ω–∞ production –∑–Ω–∞—á–µ–Ω–∏—è

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `.env` –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ (build time), –Ω–æ –≤ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö –µ—Å—Ç—å hardcoded –∑–Ω–∞—á–µ–Ω–∏—è `localhost`, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∑–∞–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## Production –∑–Ω–∞—á–µ–Ω–∏—è
- **IP —Å–µ—Ä–≤–µ—Ä–∞**: 89.169.0.223
- **–î–æ–º–µ–Ω**: blogpro.tech
- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: https/wss (—Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º–∏)

---

## –≠—Ç–∞–ø 1: –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 1.1 –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª API
**–§–∞–π–ª**: `client/src/config/api.ts`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:
```typescript
baseURL: import.meta.env.VITE_API_URL || 'http://localhost:5000',
wsURL: import.meta.env.VITE_WS_URL || 'ws://localhost:5000',
```

**–¢—Ä–µ–±—É–µ—Ç—Å—è**:
- Fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–ª—è production
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–∞–∫ primary source

**–î–µ–π—Å—Ç–≤–∏–µ**: ‚úÖ –ó–∞–º–µ–Ω–∏—Ç—å fallback –Ω–∞ production –∑–Ω–∞—á–µ–Ω–∏—è

---

### 1.2 WebSocket —Å–µ—Ä–≤–∏—Å
**–§–∞–π–ª**: `client/src/services/websocket-service.ts`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** (—Å—Ç—Ä–æ–∫–∞ ~95):
```typescript
const wsUrl = `ws://localhost:5000/ws`;
```

**–ü—Ä–æ–±–ª–µ–º–∞**: Hardcoded localhost, –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–î–µ–π—Å—Ç–≤–∏–µ**: ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `API_CONFIG.wsURL` –∏–∑ `config/api.ts`

---

### 1.3 Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (dev proxy)
**–§–∞–π–ª**: `client/vite.config.js`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:
```javascript
const apiUrl = env.VITE_API_URL || 'http://localhost:5000';
const wsUrl = env.VITE_WS_URL || 'ws://localhost:5000';
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: Proxy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ, –≤ production –Ω–µ –≤–ª–∏—è–µ—Ç

---

### 1.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—Ä—É–≥–∏—Ö API —Ñ–∞–π–ª–æ–≤ ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏**:
- `client/src/utils/api.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ `/api/*` ‚úÖ
- `client/src/services/api/*.ts` - –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ ‚úÖ

**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ**:
- `auth.ts` - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ `/api/auth/*`
- `blog.ts` - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ `/api/blog/*`
- `media.ts` - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ `/api/media/*`
- `cart.ts`, `categories.ts`, `contact.ts`, `documentation.ts`, `email.ts`, `menu.ts`, `products.ts`, `settings.ts`, `users.ts` - –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ù–µ—Ç hardcoded URLs, –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## –≠—Ç–∞–ø 2: –°–µ—Ä–≤–µ—Ä–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

### 2.1 –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ñ–∞–π–ª
**–§–∞–π–ª**: `server/index.ts`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:
```typescript
log(`üöÄ Server running on ${protocol}://localhost:${port}`);
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω–æ –∫–∞–∫ –µ—Å—Ç—å (—Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç `0.0.0.0`)
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

### 2.2 WebSocket —Å–µ—Ä–≤–µ—Ä
**–§–∞–π–ª**: `server/websocket.ts`

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç hardcoded URLs
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–π wss instance

---

### 2.3 Database –∏ Redis
**–§–∞–π–ª—ã**: `server/db/db.ts`, `server/db/redis.ts`

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –°–æ–¥–µ—Ä–∂–∞—Ç localhost –≤ fallback (–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ)
**–ü—Ä–∏—á–∏–Ω–∞**: Fallback –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
**Production**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `DATABASE_URL` –∏ `REDIS_URL` –∏–∑ `.env`
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ production

---

## –≠—Ç–∞–ø 3: Environment —Ñ–∞–π–ª—ã

### 3.1 –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ .env —Ñ–∞–π–ª—ã
**–§–∞–π–ª—ã**:
- `client/.env` (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
- `client/.env.production`

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ** (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):
```env
VITE_API_URL=https://blogpro.tech
VITE_WS_URL=wss://blogpro.tech
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

---

### 3.2 –ö–æ—Ä–Ω–µ–≤—ã–µ .env —Ñ–∞–π–ª—ã
**–§–∞–π–ª—ã**:
- `.env` (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
- `.env.production`

**–î–µ–π—Å—Ç–≤–∏–µ**: üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

---

## –≠—Ç–∞–ø 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### 4.1 –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
**–ü—É—Ç—å**: `client/src/__tests__/**/*.test.ts`

**–î–µ–π—Å—Ç–≤–∏–µ**: üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ hardcoded localhost –≤ —Ç–µ—Å—Ç–∞—Ö

---

### 4.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
**–§–∞–π–ª—ã**:
- `package.json` (scripts)
- `docker-compose.yml`
- `Dockerfile`

**–î–µ–π—Å—Ç–≤–∏–µ**: üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å build –∏ deploy —Å–∫—Ä–∏–ø—Ç—ã

---

### 4.3 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**–§–∞–π–ª—ã**:
- `DEPLOYMENT.md`
- `QUICK_DEPLOY.md`
- `README.md`

**–î–µ–π—Å—Ç–≤–∏–µ**: üìù –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã —Å localhost –Ω–∞ production URLs

---

## –≠—Ç–∞–ø 5: –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö–†–ò–¢–ò–ß–ù–û) ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
1. ‚úÖ `client/src/config/api.ts` - –∏–∑–º–µ–Ω–µ–Ω—ã fallback –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ `https://blogpro.tech` –∏ `wss://blogpro.tech`
2. ‚úÖ `client/src/services/websocket-service.ts` - —É–±—Ä–∞–Ω hardcoded localhost, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. ‚úÖ `client/src/plugins/texteditor/plugins/documentation-manager/src/deployment/routeConfiguration.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã URL
4. ‚úÖ `client/src/plugins/texteditor/plugins/documentation-manager/export/src/src/deployment/routeConfiguration.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã URL
5. ‚úÖ `server/config/swagger.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω Swagger URL –Ω–∞ `https://blogpro.tech`
6. ‚úÖ `server/middleware/security.ts` - –¥–æ–±–∞–≤–ª–µ–Ω production –¥–æ–º–µ–Ω –≤ CORS
7. ‚úÖ `server/services/authService.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã email URLs –Ω–∞ `https://blogpro.tech`
8. ‚úÖ `server/services/digitalGoodsService.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω download URL –Ω–∞ `https://blogpro.tech`

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–ê–ñ–ù–û)
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ —Ñ–∞–π–ª—ã –≤ `client/src/services/api/` - –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã `.env.production` —Ñ–∞–π–ª—ã - –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
5. ‚ö†Ô∏è `server/db/db.ts` –∏ `server/db/redis.ts` - —Å–æ–¥–µ—Ä–∂–∞—Ç localhost –≤ fallback (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–ï–õ–ê–¢–ï–õ–¨–ù–û) ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û
6. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
   - `QUICK_DEPLOY.md` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ WebSocket
   - `PRODUCTION_BUILD_CHECKLIST.md` - —Å–æ–∑–¥–∞–Ω —á–µ–∫–ª–∏—Å—Ç –¥–ª—è production —Å–±–æ—Ä–∫–∏
   - `package.json` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã `build:production` –∏ `check:localhost`
7. ‚ö†Ô∏è –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç localhost (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
8. ‚úÖ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–æ–∏—Å–∫–∞

### –ü–æ–∏—Å–∫ hardcoded localhost –≤ –∫–ª–∏–µ–Ω—Ç–µ
```bash
cd client/src
grep -r "localhost" --include="*.ts" --include="*.tsx" -n
```

### –ü–æ–∏—Å–∫ hardcoded localhost –≤ —Å–µ—Ä–≤–µ—Ä–µ
```bash
cd server
grep -r "localhost" --include="*.ts" -n
```

### –ü–æ–∏—Å–∫ hardcoded IP –∞–¥—Ä–µ—Å–æ–≤
```bash
grep -r "127.0.0.1\|localhost:5000\|localhost:3000" --include="*.ts" --include="*.tsx" --include="*.js" -n
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–ª–∏–µ–Ω—Ç
```bash
cd client
npm run build
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```bash
grep -r "localhost" dist/
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
cat .env
cat client/.env
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å production —Å–±–æ—Ä–∫—É
```bash
npm run build
pm2 restart blogpro
```

---

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ `https://blogpro.tech`
- ‚úÖ WebSocket –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `wss://blogpro.tech`
- ‚úÖ –ù–µ—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏–π localhost –≤ production —Å–±–æ—Ä–∫–µ
- ‚úÖ Fallback –∑–Ω–∞—á–µ–Ω–∏—è —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ production
- ‚úÖ `.env` —Ñ–∞–π–ª—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
