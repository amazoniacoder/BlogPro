# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

## üîç –í—ã—è–≤–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:
–í `header.tsx` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ** `navigationItems` –≤–º–µ—Å—Ç–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ API.

```typescript
// ‚ùå –ü–†–û–ë–õ–ï–ú–ê: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
setNavigationItems([
  { id: '1', label: t('home'), href: '/', priority: 1 },
  { id: '2', label: t('about'), href: '/about', priority: 2 },
  { id: '3', label: t('blog'), href: '/blog', priority: 3 },
  { id: '4', label: t('products'), href: '/products', priority: 4 },
  { id: '5', label: t('contact'), href: '/contact', priority: 5 }
]);
```

### –ü–æ—á–µ–º—É –ø–æ–¥–º–µ–Ω—é —Ä–∞–±–æ—Ç–∞–ª–æ, –∞ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –Ω–µ—Ç:
- **–ü–æ–¥–º–µ–Ω—é** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `menuItems` –∏–∑ API —á–µ—Ä–µ–∑ `SmartNavigation`
- **–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ `navigationItems`
- –ü—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –æ–Ω –∏—Å—á–µ–∑–∞–µ—Ç –∏–∑ API, –Ω–æ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º –º–∞—Å—Å–∏–≤–µ

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
**–§–∞–π–ª**: `client/src/components/layout/header.tsx`

```typescript
// ‚úÖ –†–ï–®–ï–ù–ò–ï: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è API –¥–∞–Ω–Ω—ã—Ö –≤ NavigationItems
const convertToNavigationItems = (menuItems: MenuItem[]): NavigationItem[] => {
  return menuItems.map((item, index) => ({
    id: item.id.toString(),
    label: item.title,
    href: item.url || '#',
    priority: item.order_index || index + 1
  }));
};
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ API —á–µ—Ä–µ–∑ `menuApi.getMenuTree()`
- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ `NavigationItems` —á–µ—Ä–µ–∑ `convertToNavigationItems()`
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ fallback

```typescript
// ‚úÖ –†–ï–®–ï–ù–ò–ï: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
const items = await menuApi.getMenuTree();
if (items && items.length > 0) {
  const navItems = convertToNavigationItems(items);
  setNavigationItems(navItems);
} else {
  // Fallback –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º—É –º–µ–Ω—é
}
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω WebSocket –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è `menu_updated` –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∏ `navigationItems`
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É `originalMenuItems` –∏ `navigationItems`

```typescript
// ‚úÖ –†–ï–®–ï–ù–ò–ï: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö
const handleMenuUpdate = async () => {
  const items = await menuApi.getMenuTree();
  setOriginalMenuItems(items || []);
  
  // –û–±–Ω–æ–≤–ª—è–µ–º navigation items
  if (items && items.length > 0) {
    const navItems = convertToNavigationItems(items);
    setNavigationItems(navItems);
  }
};
```

## üéØ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–Ω—é:
1. `header.tsx` –≤—ã–∑—ã–≤–∞–µ—Ç `menuApi.getMenuTree()`
2. –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
3. `convertToNavigationItems()` –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
4. `setNavigationItems()` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### –ü—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞:
1. –ê–¥–º–∏–Ω –∫–ª–∏–∫–∞–µ—Ç –ø–æ —Å—Ç–∞—Ç—É—Å—É –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. API –æ–±–Ω–æ–≤–ª—è–µ—Ç `is_active = false`
3. WebSocket —Å–æ–±—ã—Ç–∏–µ `menu_updated` —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
4. Header –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –º–µ–Ω—é —á–µ—Ä–µ–∑ `getMenuTree()`
5. –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä–æ–º
6. `navigationItems` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –±–µ–∑ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
7. –≠–ª–µ–º–µ–Ω—Ç –∏—Å—á–µ–∑–∞–µ—Ç –∏–∑ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
- **API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `MenuItem[]` —Å –ø–æ–ª–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- **Header –∏—Å–ø–æ–ª—å–∑—É–µ—Ç**: `NavigationItem[]` –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- **SmartNavigation –∏—Å–ø–æ–ª—å–∑—É–µ—Ç**: `MenuItem[]` –¥–ª—è –ø–æ–¥–º–µ–Ω—é

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:
- ‚úÖ –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–∫—Ä—ã–≤–∞–µ—Ç –µ–≥–æ –∏–∑ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏—é
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –ü–æ–¥–º–µ–Ω—é:
- ‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- ‚úÖ –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–¥—ç–ª–µ–º–µ–Ω—Ç—ã

### Fallback:
- ‚úÖ –ü—Ä–∏ –æ—à–∏–±–∫–µ API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–µ–Ω—é
- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìã –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `client/src/components/layout/header.tsx` - –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ `convertToNavigationItems()`
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å **–≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏** (–≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –ø–æ–¥–º–µ–Ω—é) —Ä–∞–±–æ—Ç–∞—é—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏:
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ API
- –†–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ò–º–µ—é—Ç fallback –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º—É –º–µ–Ω—é